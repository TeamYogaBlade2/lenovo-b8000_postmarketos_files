# Reference: <https://postmarketos.org/vendorkernel>
# Kernel config based on: arch/arm/configs/(CHANGEME!)

pkgname=linux-lenovo-b8000
pkgver=3.4.5
pkgrel=0
pkgdesc="Lenovo YOGA Tablet 10 kernel fork"
arch="armv7"
_carch="arm"
_flavor="lenovo-b8000"
url="https://kernel.org"
license="GPL-2.0-only"
options="!strip !check !tracedeps pmb:cross-native"

# Source
source="
    kernel_blade10_row_wifi.bin
    kernel.release
"

# https://gitlab.postmarketos.org/postmarketOS/pmaports/-/blob/3a88bde1056489f5d1b47e0e82a18c62ed0667b1/main/devicepkg-dev/downstreamkernel_package.sh
package() {
# kernel.release
    install -D "kernel.release" "$pkgdir/usr/share/kernel/$_flavor/kernel.release"
	install -Dm644 kernel_blade10_row_wifi.bin "$pkgdir/boot/vmlinuz"
}

sha512sums="
5a9f6a2e85232ab7a6116ad8bdc0f30eca8264d78182e4ed0fda58eaef3febacd0e84527e2711876c66c63bc9cb4e67e403839ae99c9da35b48364bcde15cbf8  kernel_blade10_row_wifi.bin
4a12b4e499bd0cca0ba84f50a64df134476d5eede8763254b72b09e00ee691daf1f17c7e634f8b0fb355ae55d9911c3b4092996ce25231b41451836c1c35d561  kernel.release
"
